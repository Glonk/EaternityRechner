<!DOCTYPE ui:UiBinder SYSTEM "http://dl.google.com/gwt/DTD/xhtml.ent">
<ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
	xmlns:g='urn:import:com.google.gwt.user.client.ui' 
	xmlns:b='urn:import:com.github.gwtbootstrap.client.ui'>

	<ui:style>
		@eval edarkgreen ch.eaternity.client.resources.Resources.INSTANCE.constants().edarkgreen();
		
		.fullHeight {
			/*this is for passing full available space to children (scroll!) */ 
			height:100%;
		
		}
		
		.searchBox {
			background: edarkgreen;
			color: white;
			padding: 7px;
			width: 100%;
		}
		
		.searchLabel {
			font-size: 14px;
		}
		
		.searchTextBox {
			width: 90%;
		}


		.sortBox { 
			white-space: nowrap;
			overflow: hidden;
			margin-top: 12px;
			font-size: 13px;
			color: #999;
			padding: 5px;
		}
		
		.saisonOrder {
			/* there should be no fixed sizes */
			width: 86px;
			text-align: left;
		}
		
		.co2Order {
			/* there should be no fixed sizes */
			width: 48;
			text-align: left;
		}
		
		.ingredientDisplayWidget {
			border-top: 2px solid lightgray;
			border-bottom: 2px solid lightgray;
		}
		
		.legendPanel {
			margin-top: 12px;
			line-height: 23px;
		}
		
		.legendImages {
			margin-right: 4px;
		}
		
		
		.legendLines {
		}
		
		.legendLabel {
			display:inline-block;
			margin-right:34px;
		}
		
		.copyright {
		}
		
		.tooltip {
			z-index:2000;
		}
		
		.legalBox {
			overflow:hidden;
			white-space: nowrap;	
		}
		
		.co2Legend {
			font-weight:600;
		}

	
		.disclaimer {
			width:100%;
			height:100%;
		}
		.feedbackAnchor {
			float:right;
			margin-left:4px;
		}

	</ui:style>

	<ui:with field='res' type='ch.eaternity.client.resources.Resources' />
	
	<g:DockLayoutPanel unit='EM' addStyleNames='{style.fullHeight}'>

		<g:north size='9'>
			<g:HTMLPanel>
					<g:HTMLPanel styleName='{style.searchBox}'>
						<g:Label ui:field="SearchLabel" styleName='{style.searchLabel}'>SUCHE ZUTAT:</g:Label>
						<g:TextBox styleName='{style.searchTextBox}' ui:field="SearchInput" >Im Marktplatz</g:TextBox>
					</g:HTMLPanel>
					<g:HTMLPanel styleName='{style.sortBox}'>
						
						<div style='width:48px; float:right;'><b:Tooltip text="nach CO2 Wert sortieren"><g:Anchor href='javascript:;' ui:field='co2Order'>CO2</g:Anchor></b:Tooltip></div>
						<div style='width:86px; float:right;'><b:Tooltip text="nach Saisonalität sortieren"><g:Anchor href='javascript:;' ui:field='saisonOrder'>sais.</g:Anchor></b:Tooltip></div>
						<div><b:Tooltip text="alphabetisch sortieren"><g:Anchor href='javascript:;' ui:field='alphOrder'>Name</g:Anchor></b:Tooltip></div>
					</g:HTMLPanel>
			</g:HTMLPanel>
		</g:north>

		<g:center>
			<g:ScrollPanel styleName='{style.ingredientDisplayWidget}'>	
				<g:SimplePanel ui:field="ingredientDisplayWidget" />
		  </g:ScrollPanel>
		</g:center>

		<g:south size="5.5">
			<g:HTMLPanel styleName='{style.legendPanel}'>
			<div class='{style.legendLines}'>
				<div class='{style.legendLabel}'>Legende: </div>
				<b:Popover text="gute CO2-Bilanz: unter 40g CO2-Äquivalent pro 100g Nahrungsmittel"><g:Image resource='{res.ingredientRatingBar1}' styleName='{style.legendImages}'/></b:Popover>
				<b:Tooltip text="mitelmässige CO2-Bilanz: unter 120g CO2-Äquivalent pro 100g Nahrungsmittel"><g:Image resource='{res.ingredientRatingBar2}' styleName='{style.legendImages}'/></b:Tooltip>
				<b:Tooltip text="schlechte CO2-Bilanz: über 120g CO2-Äquivalent pro 100g Nahrungsmittel"><g:Image resource='{res.ingredientRatingBar3}' styleName='{style.legendImages}'/></b:Tooltip>
				<b:Tooltip text="Regional: unter 200km Transportdistanz"><g:Image resource='{res.region}' styleName='{style.legendImages}'/></b:Tooltip>
				<b:Tooltip text="Saisonal in der Schweiz"><g:Image resource='{res.season}' styleName='{style.legendImages}'/></b:Tooltip>
				<b:Tooltip text="Biologisch"><g:Image resource='{res.bio}' styleName='{style.legendImages}'/></b:Tooltip>
				<b:Tooltip text="[ g* ] : g CO2-Äquivalent"><b:Label styleName='{style.co2Legend}'>[ g* ]</b:Label></b:Tooltip>
			</div>
				<g:Anchor ui:field='feedbackAnchor' addStyleNames='{style.feedbackAnchor}' styleName='{res.style.generalAnchor}' href='https://docs.google.com/a/eaternity.ch/forms/d/12KbLmDePOc-twZZKBD-4v8AS4IIDzkwAmYe9aWDZjbE/viewform'>Feedback senden</g:Anchor>
				<div class='{style.legalBox}' ><g:Anchor styleName='{res.style.generalAnchor}' ui:field="showDisclaimer" href='javascript:;'>Haftbarkeit &amp; Rechtshinweise</g:Anchor></div>
				<span class='{style.copyright}'>&copy; &nbsp;2013 Eaternity</span>
				
				<b:Modal ui:field="disclaimerModal" title="My Modal" backdrop="STATIC" keyboard="true" animation="true">
				    <g:Label>Bitte beachten Sie die Rechtshinweise.</g:Label>
				    <g:ScrollPanel>
				    	<g:Frame styleName='{style.disclaimer}' url="http://eaternity.ch/legal"></g:Frame>
					</g:ScrollPanel>
				    <b:ModalFooter>
				        <b:Button icon="LEGAL"  ui:field="closeDisclaimer" type="SUCCESS">Akzeptieren</b:Button>
				    </b:ModalFooter>
				</b:Modal>
				
				<b:Modal ui:field="feedbackModal" title="My Modal" backdrop="STATIC" keyboard="true" animation="true">
				    <g:Frame styleName='{style.disclaimer}' url="https://docs.google.com/a/eaternity.ch/forms/d/12KbLmDePOc-twZZKBD-4v8AS4IIDzkwAmYe9aWDZjbE/viewform" />
				    <b:ModalFooter>
				        <b:Button ui:field="closeButton" type="SUCCESS">Fenster schliessen</b:Button>
				    </b:ModalFooter>
				</b:Modal>
						
			</g:HTMLPanel>
		
		</g:south>
		
	</g:DockLayoutPanel>
</ui:UiBinder>
